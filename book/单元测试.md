# 单元测试
如何进行单元测试？
一开始个人觉得可以对与整体页面进行一个测试，后面发现这个可行性非常低。
因为很多组件与业务深度绑定，而且变动的可能性非常高
单元测试重于通用组件的测试，这样做可以很好的平衡需求与效率
笔者使用Vue，参考https://cn.vuejs.org/v2/guide/testing.html 编写单元测试

![image-20210512102242940](/Users/zhong/Library/Application Support/typora-user-images/image-20210512102242940.png)

接受测试的组件如图⬆️

看了下 这个应该属于组件测试

换一个参考

[安装 | Vue Test Utils (vuejs.org)](https://vue-test-utils.vuejs.org/zh/installation/#用-jest-测试单文件组件)

Jest 测试运行器自动设置了 JSDOM 因此不需要再安装测试运行器 其他则要



安装 Jest 和 Vue Test Utils

`npm install --save-dev jest @vue/test-utils`

```json
// package.json
{
  "scripts": {
    "test": "jest"
  }
}
```

处理.vue文件还需要安装

`npm install --save-dev vue-jest`

```json
{
  // ...
  "jest": {
    "moduleFileExtensions": [
      "js",
      "json",
      // 告诉 Jest 处理 `*.vue` 文件
      "vue"
    ],
    "transform": {
      // 用 `vue-jest` 处理 `*.vue` 文件
      ".*\\.(vue)$": "vue-jest"
    }
  }
}
```

语法错误继续安装babel

`npm install --save-dev babel-jest`

```json
{
  // ...
  "jest": {
    // ...
    "transform": {
      // ...
      // 用 `babel-jest` 处理 js
      "^.+\\.js$": "<rootDir>/node_modules/babel-jest"
    }
    // ...
  }
}
```

