# 每日总结

### 2020-12-7 星期一

> 元素宽度自适应、代码片段

今天优化了浪漫春天的中台首页，稍微紧凑一些，调整元素的时候发现元素会继承父元素的宽度，因为需要用到自适应，给当前元素加上  `position:absolute;` 就能阻止继承宽度，转变为自适应，目前还没发现有什么副作用。转战正式版，弹框在业务需求中经常有，于是抽离出代码片段，下次再写弹框就直接使用，不用再去想着写组件通讯，节约时间。

### 2020-12-8 星期二

> TypeScript、Object

早上尝试为正式版加入TypeScript，结果运行起来不是很理想，加上个人对TS了解也比较浅，最后还是默默的退回。退回的时候代码都回退到昨天提交的版本，结果运行起来报错，想了下删掉了`node_modules` 这个文件夹，再运行下`npm i `，再次运行就ok了。修复下浪漫春天主题折扣分类折扣里面发给后端的参数有问题。然后又回到正式版，整个人写得有点晕，尺码分组需要将新增和修改的弹框调整下，又是这样的重复业务，其实应该可以抽出一个代码片段，专门处理这种新增/修改弹框，解决掉通讯问题可以节约很多时间。今天就是在通讯的时候花了很多时间，共用组件有一个很大的问题就是，弹框关闭就要清空数据，是不是应该做一个数据缓存。把列的内容写成JSX，但是发现有些东西没办法实现，比如双向绑定，会出现对象丢失的情况。就是输入无法改变input值，改成slot的写法后，发现如果清空了from对象，里面没有属性也会导致绑定不上。没有深入去试验，不过我感觉问题应该出在数据地址指向的问题，跟丢了。还是要多抽离出一些代码片段，抓紧copy，才能有更多时间学习。



明天有个想法。封装一下el-input 下次使用数字的时候就不用那么麻烦了

两种选择 1、 直接去封装一个组件 2、使用指令

情况：1、仅输入数字 2、数字仅限两位小数 3、整数

